```{julia}
using NetCDFTools
using NCDatasets
using Ipaper
@time using GLMakie
using MakieLayers

includet("../FY-4B.jl")

f = "data/FY4B-_AGRI--_N_DISK_1050E_L1-_FDI-_MULT_NOM_20240502030000_20240502031459_4000M_V0001.HDF"
nc = nc_open(f)
```

```{julia}
using PyCall
pushfirst!(PyVector(pyimport("sys")."path"), pwd())
FY = pyimport("FY-4B")
# FY = pyimport(".FY-4B")
```


```{julia}
@time val = read_band(nc, "Channel01");
imagesc(val)
# Int64.(nom.attrib["valid_range"]): 0, 4095
```


```{julia}
f = "./data/FY4B-_DISK_1050E_GEO_NOM_LUT_20240227000000_4000M_V0001.raw"
lon, lat = FY.fy4disk(f, 2748)
lon[lon .== -9999] .= NaN
lat[lat .== -9999] .= NaN
```

## 知道经纬度之后，如何转为WGS84

```{julia}
imagesc(lon)
imagesc(lat)
```
